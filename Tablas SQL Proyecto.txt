CREATE DATABASE PROYECTO_FINAL;
USE PROYECTO_FINAL;

CREATE TABLE pais(
	id_pais varchar(7) primary key,
	nombre_pais varchar(20)
);

CREATE TABLE estado(
	id_estado varchar(7) primary key,
	nombre_est varchar(20),
	id_pais_est varchar(7),
	constraint fk_id_pais_est foreign key (id_pais_est) references pais(id_pais)
);

CREATE TABLE ciudad(
	id_ciudad varchar(6) primary key,
	nombre_ciu varchar (20),
	id_estado_ciu varchar(7),
	constraint fk_id_estado_ciu foreign key (id_estado_ciu) references 	estado(id_estado)
);

CREATE TABLE ubicacion_principal (

	id_ubicacion_principal varchar(12) primary key,
	id_Ciudad varchar (6),

	constraint fk_id_ciudad_up_ foreign key (id_Ciudad) references 	ciudad 	(id_Ciudad)
	
);

CREATE TABLE compañia(
	id_compañia varchar(9) primary key,
	nombre_com varchar(50)
);

CREATE TABLE equipo_vicepresidencia(
	Id_Equipo_Vicepresidencia varchar(12) primary key,
	nombre_EV varchar(50),
	id_compañia varchar(12)
);

CREATE TABLE equipo_area(
	id_equipo_area varchar(12) primary key,
	nombre_EA varchar (50),
	id_eq_vic varchar(12),
	constraint fk_id_eq_vic foreign key (id_eq_vic) references equipo_vicepresidencia(Id_Equipo_Vicepresidencia)
);

CREATE TABLE recursos_humanos(
	id_RH varchar(12) primary key,
	nombre_RH varchar(50),
	apellido_RH varchar(50)
);

CREATE TABLE Supervisor (
	id_Supervisor varchar(12) primary key,
	Nombre_Sup varchar(50),
	Apellido_Sup varchar(50),
	id_RH_Sup varchar(12),

	constraint fk_id_id_RH_Sup foreign key (id_RH_Sup) references 	recursos_humanos(id_RH)
);

CREATE TABLE Categoria (
	id_Categoria varchar(7) primary key,
	Descripcion_Cat varchar(50)
);

CREATE TABLE empleado(

	id_empleado varchar(12) primary key,
	estado_laboral char(1),
	genero_em char(1),
	nombre_em varchar(50),
	apellido_em varchar(50),
	grupo_personal_em varchar(15),
	id_supervisor_em varchar(12),
	categoria_informe_em varchar(20),
	puesto_laboral_em varchar(40),
	id_equipo_area_em varchar(12),
	id_ubicacion_em varchar(12),

	constraint fk_id_supervisor  foreign key (id_supervisor_em) references 	Supervisor(id_Supervisor),
    constraint fk_id_equipo_areaa foreign key (id_equipo_area_em) references equipo_area(id_equipo_area),
    constraint fk_id_ubicacion_em foreign key (id_ubicacion_em) references 	ubicacion_principal (id_ubicacion_principal)
    
);


CREATE TABLE Curso (

	Id_Curso varchar(12) primary key,
	Disponibilidad char(2),
	FechaCreacion date,
	FechaPublicacion date,
	Duracion varchar(12),
	Origen varchar(40),
	Idioma varchar(20),
	Contenido varchar(5000),
	Tipo_Cur varchar(30),
	Costo varchar(30),
	Id_Encargado varchar(12),
	Id_Categoria_Cur varchar(7),
	Experto varchar(30),
	Titulo_Cur varchar (100),
	Descripción_Cur varchar (5000),
	proveedor_cur varchar(50),
	proposito_formacion varchar(30),
	area_conocimiento varchar(100),
	Tipo_Contenido varchar(100),

	
	constraint fk_Categoria_Cu foreign key (Id_Categoria_Cur) references 	Categoria(Id_Categoria)
);

CREATE TABLE Empleado_Curso (

	Id_Empleado_Curso varchar(12) primary key,
	Id_Empleado_E_C varchar(12),
	Id_Curso_E_C varchar(12),
	calificacion numeric(5),
	Estado varchar(30),
	FechaFinalizacion date,
	HorasTotales numeric(10),
	tipo_user_actu varchar(20),
	id_user_actu varchar(12),
	Fecha_actu date,
	hora_actu date,

	constraint fk_Empleado_E_C foreign key (Id_Empleado_E_C) references 
	Empleado(Id_Empleado),
	constraint fk_Curso_E_C foreign key (Id_Curso_E_C) references Curso(Id_Curso)
);


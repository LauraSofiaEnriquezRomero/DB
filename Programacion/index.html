<!-- index.html -->

<!DOCTYPE html>
<html>
<head>
  <title>Consulta de base de datos</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
  <button id="cargarBtn">Cargar resultados de la consulta</button>

  <table id="resultadosTabla">
    <thead>
      <tr>
        <th></th>
        <th></th>
        <th></th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <script>
    $('#cargarBtn').click(() => {
      $.get('/consulta', (data) => {
        // Obtener una referencia a la tabla y el cuerpo de la tabla
        const tabla = $('#resultadosTabla');
        const cuerpoTabla = tabla.find('tbody');

        // Limpiar la tabla antes de agregar los nuevos datos
        cuerpoTabla.empty();
        // Agregar nombre a las columnas

        const fila = $('<tr>');
        const id = $('<td>').text('ID');
        const nombre = $('<td>').text('Nombre');
        const apellido = $('<td>').text('Apellido');

// Agregar las columnas a la fila
        fila.append(id, nombre, apellido);
        cuerpoTabla.append(fila);

        // Iterar sobre los resultados y agregar cada fila a la tabla
        data.forEach((item) => {
          const fila = $('<tr>');
          const columnaID = $('<td>').text(item.id_RH);
          const columnaNombre = $('<td>').text(item.nombre_RH);
          const columnaEmail = $('<td>').text(item.apellido_RH);

          fila.append(columnaID, columnaNombre, columnaEmail);
          cuerpoTabla.append(fila);
        });
      });
    });
  </script>
</body>
</html>